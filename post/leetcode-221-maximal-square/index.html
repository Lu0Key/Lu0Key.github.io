<!doctype html>
<html lang="en-us">

<head>
    
    <title>Leetcode 221 最大正方形 // 洛七的摸鱼池塘</title>
    <link rel="shortcut icon" href="%20/favicon.ico%20" />
    <meta charset="utf-8" /> <meta name="generator" content="Hugo 0.80.0" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="洛七" />
    <meta name="description" content="" /> <link rel="stylesheet" href="https://Lu0key.github.io/css/main.min.88e7083eff65effb7485b6e6f38d10afbec25093a6fac42d734ce9024d3defbd.css" />  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Leetcode 221 最大正方形"/>
<meta name="twitter:description" content="最大正方形(Maximal Square) 在一个由 &#39;0&#39; 和 &#39;1&#39; 组成的二维矩阵内，找到只包含 &#39;1&#39; 的最大正方形，并返回其面积。
示例 1：
输入：matrix = [[&quot;1&quot;,&quot;0&quot;,&quot;1&quot;,&quot;0&quot;,&quot;0&quot;],[&quot;1&quot;,&quot;0&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;],[&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;],[&quot;1&quot;,&quot;0&quot;,&quot;0&quot;,&quot;1&quot;,&quot;0&quot;]] 输出：4 示例 2：
输入：matrix = [[&quot;0&quot;,&quot;1&quot;],[&quot;1&quot;,&quot;0&quot;]] 输出：1 示例 3：
输入：matrix = [[&quot;0&quot;]] 输出：0 提示：
 m == matrix.length n == matrix[i].length 1 &lt;= m, n &lt;= 300 matrix[i][j] 为 &#39;0&#39; 或 &#39;1&#39;  int min(int a, int b){ if (a&lt;b){ return a; }else{ return b; } } bool noZero(char** matrix, int row ,int col ,int size){ for(int dr = 0;dr &lt; size;dr&#43;&#43;){ for(int dc = 0;dc &lt; size; dc&#43;&#43;){ if(matrix[row&#43;dr][col&#43;dc] == &#39;0&#39;){ return false; } } } return true; } int maximalSquare(char** matrix, int matrixSize, int* matrixColSize){ // if (matrixSize == 0) return 0;  int rows = matrixSize; int cols = matrixColSize[0]; int maxSize = 0; for(int row =0 ;row &lt; rows;row&#43;&#43;){ for(int col = 0;col&lt;cols; col&#43;&#43;){ for(int size =1;size&lt;=min(rows-row,cols-col);size&#43;&#43;){ if(noZero(matrix, row, col, size) &amp;&amp; size &gt; maxSize){ maxSize = size; } } } } return maxSize * maxSize; } 勉强过了"/>
 <meta property="og:title" content="Leetcode 221 最大正方形" />
<meta property="og:description" content="最大正方形(Maximal Square) 在一个由 &#39;0&#39; 和 &#39;1&#39; 组成的二维矩阵内，找到只包含 &#39;1&#39; 的最大正方形，并返回其面积。
示例 1：
输入：matrix = [[&quot;1&quot;,&quot;0&quot;,&quot;1&quot;,&quot;0&quot;,&quot;0&quot;],[&quot;1&quot;,&quot;0&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;],[&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;],[&quot;1&quot;,&quot;0&quot;,&quot;0&quot;,&quot;1&quot;,&quot;0&quot;]] 输出：4 示例 2：
输入：matrix = [[&quot;0&quot;,&quot;1&quot;],[&quot;1&quot;,&quot;0&quot;]] 输出：1 示例 3：
输入：matrix = [[&quot;0&quot;]] 输出：0 提示：
 m == matrix.length n == matrix[i].length 1 &lt;= m, n &lt;= 300 matrix[i][j] 为 &#39;0&#39; 或 &#39;1&#39;  int min(int a, int b){ if (a&lt;b){ return a; }else{ return b; } } bool noZero(char** matrix, int row ,int col ,int size){ for(int dr = 0;dr &lt; size;dr&#43;&#43;){ for(int dc = 0;dc &lt; size; dc&#43;&#43;){ if(matrix[row&#43;dr][col&#43;dc] == &#39;0&#39;){ return false; } } } return true; } int maximalSquare(char** matrix, int matrixSize, int* matrixColSize){ // if (matrixSize == 0) return 0;  int rows = matrixSize; int cols = matrixColSize[0]; int maxSize = 0; for(int row =0 ;row &lt; rows;row&#43;&#43;){ for(int col = 0;col&lt;cols; col&#43;&#43;){ for(int size =1;size&lt;=min(rows-row,cols-col);size&#43;&#43;){ if(noZero(matrix, row, col, size) &amp;&amp; size &gt; maxSize){ maxSize = size; } } } } return maxSize * maxSize; } 勉强过了" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://Lu0key.github.io/post/leetcode-221-maximal-square/" />
<meta property="article:published_time" content="2021-03-23T15:08:31+08:00" />
<meta property="article:modified_time" content="2021-03-23T15:08:31+08:00" />


</head>

<body>
    <header class="app-header">
        <a href="https://Lu0key.github.io/"><img class="app-header-avatar" src="/avatar.jpg" alt="洛七" /></a>
        <h1>洛七的摸鱼池塘</h1>
        <nav class="app-header-menu">
            <a class="app-header-menu-item" href="/tags/">Tags</a>
        </nav>
        <p>即将没书读的咸鱼</p>
        <div class="app-header-social">
            
        </div>
    </header>
    <main class="app-container">
        
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">Leetcode 221 最大正方形</h1>
      <div class="post-meta">
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          Mar 23, 2021
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          3 min read
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag">
  <title>tag</title>
  <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line>
</svg>
              <a class="tag" href="https://Lu0key.github.io/tags/leetcode/">leetcode</a>
        </div>
      </div>
    </header>
    <div class="post-content">
      <h1 id="最大正方形maximal-squarehttpsleetcode-cncomproblemsmaximal-square"><a href="https://leetcode-cn.com/problems/maximal-square/">最大正方形(Maximal Square)</a></h1>
<p>在一个由 <code>'0'</code> 和 <code>'1'</code> 组成的二维矩阵内，找到只包含 <code>'1'</code> 的最大正方形，并返回其面积。</p>
<p><strong>示例 1：</strong><br>
<img src="https://raw.githubusercontent.com/Lu0Key/hexo-image/master/imags/2021/max1grid.jpg" alt="图裂了"></p>
<pre><code>输入：matrix = [[&quot;1&quot;,&quot;0&quot;,&quot;1&quot;,&quot;0&quot;,&quot;0&quot;],[&quot;1&quot;,&quot;0&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;],[&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;],[&quot;1&quot;,&quot;0&quot;,&quot;0&quot;,&quot;1&quot;,&quot;0&quot;]]
输出：4
</code></pre><p><strong>示例 2：</strong><br>
<img src="https://raw.githubusercontent.com/Lu0Key/hexo-image/master/imags/2021/max2grid.jpg" alt="图裂了"></p>
<pre><code>输入：matrix = [[&quot;0&quot;,&quot;1&quot;],[&quot;1&quot;,&quot;0&quot;]]
输出：1
</code></pre><p><strong>示例 3：</strong></p>
<pre><code>输入：matrix = [[&quot;0&quot;]]
输出：0
</code></pre><p>提示：</p>
<ul>
<li><code>m == matrix.length</code></li>
<li><code>n == matrix[i].length</code></li>
<li><code>1 &lt;= m, n &lt;= 300</code></li>
<li><code>matrix[i][j]</code> 为 <code>'0'</code> 或 <code>'1'</code></li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">min</span>(<span style="color:#66d9ef">int</span> a, <span style="color:#66d9ef">int</span> b){
    <span style="color:#66d9ef">if</span> (a<span style="color:#f92672">&lt;</span>b){
        <span style="color:#66d9ef">return</span> a;
    }<span style="color:#66d9ef">else</span>{
        <span style="color:#66d9ef">return</span> b;
    }
}

<span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">noZero</span>(<span style="color:#66d9ef">char</span><span style="color:#f92672">**</span> matrix, <span style="color:#66d9ef">int</span> row ,<span style="color:#66d9ef">int</span> col ,<span style="color:#66d9ef">int</span> size){
    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> dr <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;dr <span style="color:#f92672">&lt;</span> size;dr<span style="color:#f92672">++</span>){
        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> dc <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;dc <span style="color:#f92672">&lt;</span> size; dc<span style="color:#f92672">++</span>){
            <span style="color:#66d9ef">if</span>(matrix[row<span style="color:#f92672">+</span>dr][col<span style="color:#f92672">+</span>dc] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;0&#39;</span>){
                <span style="color:#66d9ef">return</span> false;
            }
        }
    }
    <span style="color:#66d9ef">return</span> true;
}

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">maximalSquare</span>(<span style="color:#66d9ef">char</span><span style="color:#f92672">**</span> matrix, <span style="color:#66d9ef">int</span> matrixSize, <span style="color:#66d9ef">int</span><span style="color:#f92672">*</span> matrixColSize){
    <span style="color:#75715e">// if (matrixSize == 0) return 0;
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> rows <span style="color:#f92672">=</span> matrixSize;
    <span style="color:#66d9ef">int</span> cols <span style="color:#f92672">=</span> matrixColSize[<span style="color:#ae81ff">0</span>];

    <span style="color:#66d9ef">int</span> maxSize <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> row <span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> ;row <span style="color:#f92672">&lt;</span> rows;row<span style="color:#f92672">++</span>){
        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> col <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;col<span style="color:#f92672">&lt;</span>cols; col<span style="color:#f92672">++</span>){
            <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> size <span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;size<span style="color:#f92672">&lt;=</span>min(rows<span style="color:#f92672">-</span>row,cols<span style="color:#f92672">-</span>col);size<span style="color:#f92672">++</span>){
                <span style="color:#66d9ef">if</span>(noZero(matrix, row, col, size) <span style="color:#f92672">&amp;&amp;</span> size <span style="color:#f92672">&gt;</span> maxSize){
                    maxSize <span style="color:#f92672">=</span> size;
                }
            }
        }
    }
    <span style="color:#66d9ef">return</span> maxSize <span style="color:#f92672">*</span> maxSize;
}
</code></pre></div><p>勉强过了</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">max2</span>(<span style="color:#66d9ef">int</span> a,<span style="color:#66d9ef">int</span> b){
    <span style="color:#66d9ef">return</span> a<span style="color:#f92672">&gt;</span>b<span style="color:#f92672">?</span>a:b;
}
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">min2</span>(<span style="color:#66d9ef">int</span> a,<span style="color:#66d9ef">int</span> b){
    <span style="color:#66d9ef">return</span> a<span style="color:#f92672">&lt;</span>b<span style="color:#f92672">?</span>a:b;
}
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">min3</span>(<span style="color:#66d9ef">int</span> a, <span style="color:#66d9ef">int</span> b, <span style="color:#66d9ef">int</span> c){
    <span style="color:#66d9ef">return</span> min2(min2(a,b),c);
}

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">findMaximalSquareBottomLeftOne</span>(<span style="color:#66d9ef">char</span><span style="color:#f92672">**</span> matrix, <span style="color:#66d9ef">int</span> rows, <span style="color:#66d9ef">int</span> cols,<span style="color:#66d9ef">int</span> <span style="color:#f92672">**</span>cache2) {
    <span style="color:#66d9ef">if</span>(rows <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">||</span> cols<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">if</span>(matrix[rows<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][cols<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;0&#39;</span>) <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;

    <span style="color:#66d9ef">if</span>(cache2[rows][cols] <span style="color:#f92672">!=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) <span style="color:#66d9ef">return</span> cache2[rows][cols];
    cache2[rows][cols] <span style="color:#f92672">=</span> min3(
            findMaximalSquareBottomLeftOne(matrix, rows<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, cols, cache2),
            findMaximalSquareBottomLeftOne(matrix, rows, cols<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, cache2),
            findMaximalSquareBottomLeftOne(matrix, rows<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, cols<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, cache2))<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;

    <span style="color:#66d9ef">return</span> cache2[rows][cols];
}

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">findMaximalSquare</span>(<span style="color:#66d9ef">char</span><span style="color:#f92672">**</span> matrix ,<span style="color:#66d9ef">int</span> rows , <span style="color:#66d9ef">int</span> cols, <span style="color:#66d9ef">int</span><span style="color:#f92672">**</span> cache1, <span style="color:#66d9ef">int</span><span style="color:#f92672">**</span> cache2){
    <span style="color:#66d9ef">if</span>(rows <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">||</span> cols<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;

    <span style="color:#66d9ef">if</span>(cache1[rows][cols] <span style="color:#f92672">!=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) <span style="color:#66d9ef">return</span> cache1[rows][cols];

    cache1[rows][cols] <span style="color:#f92672">=</span>
            max2(
                    max2(
                            findMaximalSquare(matrix, rows<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, cols, cache1,cache2),
                            findMaximalSquare(matrix, rows, cols<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>,cache1,cache2)),


                            findMaximalSquareBottomLeftOne(matrix,rows,cols,cache2));

    <span style="color:#66d9ef">return</span> cache1[rows][cols];
}

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">maximalSquare</span>(<span style="color:#66d9ef">char</span><span style="color:#f92672">**</span> matrix, <span style="color:#66d9ef">int</span> matrixSize, <span style="color:#66d9ef">int</span><span style="color:#f92672">*</span> matrixColSize){
    <span style="color:#66d9ef">if</span>(matrixSize <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;

    <span style="color:#66d9ef">int</span> rows <span style="color:#f92672">=</span> matrixSize;
    <span style="color:#66d9ef">int</span> cols <span style="color:#f92672">=</span> matrixColSize[<span style="color:#ae81ff">0</span>];

    <span style="color:#66d9ef">int</span><span style="color:#f92672">**</span> cache1 <span style="color:#f92672">=</span> malloc((rows<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">*</span><span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span><span style="color:#f92672">*</span>));
    <span style="color:#66d9ef">int</span><span style="color:#f92672">**</span> cache2 <span style="color:#f92672">=</span> malloc((rows<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">*</span><span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span><span style="color:#f92672">*</span>));
    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> row <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; row<span style="color:#f92672">&lt;=</span>rows; row<span style="color:#f92672">++</span>){
        cache1[row] <span style="color:#f92672">=</span> malloc((cols<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">*</span><span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>));
        cache2[row] <span style="color:#f92672">=</span> malloc((cols<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">*</span><span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>));
    }
    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> row <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; row<span style="color:#f92672">&lt;=</span> rows; row<span style="color:#f92672">++</span>){
        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> col<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; col<span style="color:#f92672">&lt;=</span>cols; col<span style="color:#f92672">++</span>){
            cache1[row][col] <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
            cache2[row][col] <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
        }
    }

    <span style="color:#66d9ef">int</span> answer <span style="color:#f92672">=</span> findMaximalSquare(matrix, rows, cols, cache1, cache2);

    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> row <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;row <span style="color:#f92672">&lt;=</span> rows; row<span style="color:#f92672">++</span>){
        free(cache1[row]);
        free(cache2[row]);
    }
    free(cache1);
    free(cache2);
    <span style="color:#66d9ef">return</span> answer<span style="color:#f92672">*</span>answer;
}
</code></pre></div><p>再次经典空间换时间，368ms一下跃迁到了20ms</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">max2</span>(<span style="color:#66d9ef">int</span> a,<span style="color:#66d9ef">int</span> b){
    <span style="color:#66d9ef">return</span> a<span style="color:#f92672">&gt;</span>b<span style="color:#f92672">?</span>a:b;
}
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">min2</span>(<span style="color:#66d9ef">int</span> a,<span style="color:#66d9ef">int</span> b){
    <span style="color:#66d9ef">return</span> a<span style="color:#f92672">&lt;</span>b<span style="color:#f92672">?</span>a:b;
}
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">min3</span>(<span style="color:#66d9ef">int</span> a, <span style="color:#66d9ef">int</span> b, <span style="color:#66d9ef">int</span> c){
    <span style="color:#66d9ef">return</span> min2(min2(a,b),c);
}

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">maximalSquare</span>(<span style="color:#66d9ef">char</span><span style="color:#f92672">**</span> matrix, <span style="color:#66d9ef">int</span> matrixSize, <span style="color:#66d9ef">int</span><span style="color:#f92672">*</span> matrixColSize){
    <span style="color:#66d9ef">if</span>(matrixSize <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">int</span><span style="color:#f92672">**</span> maximalSquareBottomLeft <span style="color:#f92672">=</span> malloc((matrixSize<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">*</span><span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span><span style="color:#f92672">*</span>));
    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> row <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; row<span style="color:#f92672">&lt;=</span>matrixSize; row<span style="color:#f92672">++</span>){
        maximalSquareBottomLeft[row] <span style="color:#f92672">=</span> calloc((matrixColSize[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>),<span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>));
    }

    <span style="color:#66d9ef">int</span> answer <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> rows <span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;rows <span style="color:#f92672">&lt;=</span> matrixSize;rows<span style="color:#f92672">++</span>) {
        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> cols <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;cols <span style="color:#f92672">&lt;=</span> matrixColSize[<span style="color:#ae81ff">0</span>]; cols<span style="color:#f92672">++</span>) {
            <span style="color:#66d9ef">if</span>(matrix[rows<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][cols<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;1&#39;</span>) {
                maximalSquareBottomLeft[rows][cols] <span style="color:#f92672">=</span>
                        min3(
                                maximalSquareBottomLeft[rows<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][cols],
                                maximalSquareBottomLeft[rows][cols<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>],
                                maximalSquareBottomLeft[rows<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>][cols<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>])<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;
            }
            answer <span style="color:#f92672">=</span> max2(answer, maximalSquareBottomLeft[rows][cols]);
        }
    }
    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> row <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;row <span style="color:#f92672">&lt;=</span> matrixSize; row<span style="color:#f92672">++</span>){
        free(maximalSquareBottomLeft[row]);
    }
    free(maximalSquareBottomLeft);
    <span style="color:#66d9ef">return</span> answer<span style="color:#f92672">*</span>answer;
}
</code></pre></div><p>时间没减少，内存消耗变少了</p>

    </div>
    <div class="post-footer">
      
    </div>
  </article>

    </main>
</body>

</html>